<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
    xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
     xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
    xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd
    http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">

	<changeSet id="referenceapp-set-admin-password" author="raff">
        <update tableName="users">
            <column name="password" value="d236e99e705d338e654fa8bac5168a685a23c4cb59d3b6de6448cfff1dad45af4100227aabd13edbaf83b71c225da90695a2bf9f06c4cfa3bf7ad56ec7028edc"/>
            <column name="salt" value="31a6b07f52829bd3546da49cafede8f1691b958ea58fe26b4d831e4833167e3c6d67e369b08cfef1d7df1b3dfcffca85073438c31dd8ead2d35746bc7766c209"/>
            <where>system_id = 'admin'</where>
        </update>
    </changeSet>

    <changeSet id="referenceapp-set-scheduler-username" author="raff">
        <preConditions onFail="MARK_RAN" onError="MARK_RAN">
            <sqlCheck expectedResult="0">
                SELECT COUNT(*) FROM global_property WHERE property = 'scheduler.username'
            </sqlCheck>
        </preConditions>
        <insert tableName="global_property">
            <column name="property" value="scheduler.username"/>
            <column name="property_value" value="admin"/>
            <column name="description" value="Username for the OpenMRS user that will perform the scheduler activities"/>
            <column name="uuid" value="9a11ca60-47a9-11e6-beb8-9e71128cae77"/>
        </insert>
    </changeSet>

    <changeSet id="referenceapp-set-scheduler-password" author="raff">
        <preConditions onFail="MARK_RAN" onError="MARK_RAN">
            <sqlCheck expectedResult="0">
                SELECT COUNT(*) FROM global_property WHERE property = 'scheduler.username'
            </sqlCheck>
        </preConditions>
        <insert tableName="global_property">
            <column name="property" value="scheduler.password"/>
            <column name="property_value" value="Admin123"/>
            <column name="description" value="Password for the OpenMRS user that will perform the scheduler activities"/>
            <column name="uuid" value="afff2066-47a9-11e6-beb8-9e71128cae77"/>
        </insert>
    </changeSet>

</databaseChangeLog>